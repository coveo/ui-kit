name: Manual Release
on:
  workflow_dispatch:
    inputs:
      version:
        description: '⚠ be sure of yourself ⚠'
        required: false
        default: ''
        type: string
      debug:
        description: 'Add DEBUG=* to the env if true'
        type: boolean
        default: false
        required: false

jobs:
  approve:
    runs-on: ubuntu-latest
    environment: 'Manual Release'
    steps:
      - run: exit 0

  release:
    uses: ./.github/workflows/release.yml
    needs: approve
    with:
      version: ${{ github.event.inputs.version }}
      debug: ${{ fromJSON(github.event.inputs.debug) }}
