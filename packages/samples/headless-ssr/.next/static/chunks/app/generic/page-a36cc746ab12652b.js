(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{7592:function(e,t,r){Promise.resolve().then(r.bind(r,5484))},5484:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var l=r(4004),a=r(9727),s=r(7884);let u=(0,a.Nw)(s.v),{fetchStaticState:n,hydrateStaticState:c}=u;var o=r(4978),i=r(1188),d=r(1264),h=r(2097);function f(e){let{query:t,facetSearchResults:r,isLoading:a,onUpdateQuery:s,onSubmit:u,onToggle:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),null==u||u()},children:(0,l.jsx)("input",{value:t,onChange:e=>null==s?void 0:s(e.target.value)})}),(0,l.jsx)("ul",{children:r.map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("button",{onClick:()=>null==n?void 0:n(e),disabled:a,children:[e.displayValue," (",e.count," results)"]})},e.rawValue))})]})}function v(e){let{title:t,values:r,facetSearchQuery:a,facetSearchResults:s,isLoading:u,onToggleValue:n,onToggleSearchResult:c,onUpdateSearchQuery:o,onSubmitSearch:i}=e;return(0,l.jsxs)("fieldset",{children:[(0,l.jsxs)("legend",{children:[t," facet"]}),(0,l.jsx)(f,{query:a,facetSearchResults:s,isLoading:u,onUpdateQuery:o,onSubmit:i,onToggle:c}),(0,l.jsx)("ul",{className:"facet-values",children:r.map(e=>(0,l.jsxs)("li",{children:[(0,l.jsx)("input",{type:"checkbox",checked:"selected"===e.state,onChange:()=>null==n?void 0:n(e),disabled:u}),e.value," (",e.numberOfResults," results)"]},e.value))})]})}let S=e=>{let{title:t,staticState:r,controller:a}=e,[s,u]=(0,o.useState)(r);return(0,o.useEffect)(()=>{var e;return null==a?void 0:null===(e=a.subscribe)||void 0===e?void 0:e.call(a,()=>u({...a.state}))},[a]),(0,l.jsx)(v,{title:t,values:s.values,facetSearchQuery:s.facetSearch.query,facetSearchResults:s.facetSearch.values,isLoading:s.isLoading,onToggleValue:a&&(e=>a.toggleSelect(e)),onUpdateSearchQuery:a&&(e=>a.facetSearch.updateText(e)),onSubmitSearch:a&&(()=>a.facetSearch.search()),onToggleSearchResult:a&&(e=>a.facetSearch.select(e))})};var m=r(7379);let x=e=>{let{staticState:t,controller:r}=e,[a,s]=(0,o.useState)(t);return(0,o.useEffect)(()=>null==r?void 0:r.subscribe(()=>s({...r.state})),[r]),(0,l.jsx)(m.Z,{results:a.results})};var j=r(8083);let b=e=>{let{staticState:t,controller:r}=e,[a,s]=(0,o.useState)(t);return(0,o.useEffect)(()=>{var e;return null==r?void 0:null===(e=r.subscribe)||void 0===e?void 0:e.call(r,()=>s({...r.state}))},[r]),(0,l.jsx)(j.Z,{controller:r,value:a.value})};function p(e){let{staticState:t}=e,[r,a]=(0,o.useState)(void 0);return(0,o.useEffect)(()=>{c({searchFulfilledAction:t.searchFulfilledAction,controllers:{searchParameters:{initialState:t.controllers.searchParameters.state}}}).then(e=>{let{engine:t,controllers:r}=e;a({engine:t,controllers:r})})},[t]),!function(e){var t;let{staticState:r,controller:l}=e,a=(0,d.W)(),s=function(e){let{staticState:t,controller:r}=e,[l,a]=(0,o.useState)(t);return(0,o.useEffect)(()=>{if(r)return r.subscribe(()=>a(r.state))},[r]),l}({staticState:r,controller:l});(0,o.useEffect)(()=>{var e;return l&&(null===(e=a.url)||void 0===e?void 0:e.searchParams)&&l.synchronize(h.v.fromClientSideUrlSearchParams(a.url.searchParams).coveoSearchParameters)},[null===(t=a.url)||void 0===t?void 0:t.searchParams]);let u=(0,o.useMemo)(()=>{if(!a.url)return null;let e=new URL(a.url);return h.v.fromCoveoSearchParameters(s.parameters).applyToUrlSearchParams(e.searchParams),e.href},[a.url,s.parameters]);(0,o.useEffect)(()=>{var e;if(!u||u===(null===(e=a.url)||void 0===e?void 0:e.href))return;let t=void 0===l;t?a.replace(u):a.push(u)},[u])}({staticState:t.controllers.searchParameters.state,controller:null==r?void 0:r.controllers.searchParameters}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{staticState:t.controllers.searchBox.state,controller:null==r?void 0:r.controllers.searchBox}),(0,l.jsx)(S,{title:"Author",staticState:t.controllers.authorFacet.state,controller:null==r?void 0:r.controllers.authorFacet}),(0,l.jsx)(x,{staticState:t.controllers.resultList.state,controller:null==r?void 0:r.controllers.resultList}),(0,l.jsx)(i.z,{staticState:t,hydratedState:r})]})}}},function(e){e.O(0,[163,470,730,744],function(){return e(e.s=7592)}),_N_E=e.O()}]);