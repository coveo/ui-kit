<html>
  <head>
    <script type="module">
      import {buildSamlClient} from './saml-client';

      const organizationId = 'pvnh4ja7n5y7lmgstt3fpwy2bzq';

      const saml = buildSamlClient({
        organizationId,
        provider: 'oktaA323aab78b9f1-45b5-a095-a1f0fa09ddd5',
      });

      async function main() {
        const accessToken = await saml.authenticate();

        buildSearchEngine({
          configuration: {
            organizationId,
            accessToken,
            renewAccessToken: () => saml.authenticate(),
          },
        });

        // another engine
        buildSearchEngine({
          configuration: {
            organizationId,
            accessToken,
            renewAccessToken: () => saml.authenticate(),
          },
        });
      }

      main();
    </script>
  </head>
</html>
