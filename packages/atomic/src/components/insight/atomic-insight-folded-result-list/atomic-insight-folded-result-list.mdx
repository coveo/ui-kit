import { Meta } from '@storybook/addon-docs/blocks';
import * as AtomicInsightFoldedResultListStories from './atomic-insight-folded-result-list.new.stories';
import { AtomicDocTemplate } from '@/storybook-utils/documentation/atomic-doc-template';

<Meta of={AtomicInsightFoldedResultListStories} />

<AtomicDocTemplate
  stories={AtomicInsightFoldedResultListStories}
  githubPath="insight/atomic-insight-folded-result-list/atomic-insight-folded-result-list.ts"
  tagName="atomic-insight-folded-result-list"
  className="AtomicInsightFoldedResultList"
>

This component is responsible for displaying folded query results in an insight panel, by applying one or more result templates. Folded results group related documents together, such as email threads or document versions.

```html
<atomic-insight-interface>
  ...
  <atomic-insight-folded-result-list></atomic-insight-folded-result-list>
</atomic-insight-interface>
```

## Defining Result Templates

You can [define custom templates](https://docs.coveo.com/en/atomic/latest/usage/displaying-results/#defining-a-result-template) for how results and their children are displayed:

```html
<atomic-insight-folded-result-list>
  <atomic-insight-result-template>
    <template>
      <atomic-result-section-title>
        <atomic-result-link></atomic-result-link>
      </atomic-result-section-title>
      <atomic-result-section-excerpt>
        <atomic-result-text field="excerpt"></atomic-result-text>
      </atomic-result-section-excerpt>
      <atomic-result-section-children>
        <atomic-insight-result-children image-size="icon">
          <atomic-insight-result-children-template>
            <template>
              <atomic-result-section-title>
                <atomic-result-link></atomic-result-link>
              </atomic-result-section-title>
            </template>
          </atomic-insight-result-children-template>
        </atomic-insight-result-children>
      </atomic-result-section-children>
    </template>
  </atomic-insight-result-template>
</atomic-insight-folded-result-list>
```

For more information on Result Folding, see [Result Folding](https://docs.coveo.com/en/1884).

</AtomicDocTemplate>
