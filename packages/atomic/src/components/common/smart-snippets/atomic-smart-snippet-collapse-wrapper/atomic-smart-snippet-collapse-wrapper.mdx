import { Meta } from '@storybook/addon-docs/blocks';
import * as AtomicSmartSnippetCollapseWrapperStories from './atomic-smart-snippet-collapse-wrapper.new.stories';
import { AtomicDocTemplate } from '@/storybook-utils/documentation/atomic-doc-template';

<Meta of={AtomicSmartSnippetCollapseWrapperStories} />

<AtomicDocTemplate
  stories={AtomicSmartSnippetCollapseWrapperStories}
  githubPath="common/smart-snippets/atomic-smart-snippet-collapse-wrapper/atomic-smart-snippet-collapse-wrapper.ts"
  tagName="atomic-smart-snippet-collapse-wrapper"
  className="AtomicSmartSnippetCollapseWrapper"
  isInternal
>

The `atomic-smart-snippet-collapse-wrapper` component is an internal utility component that provides collapsible content functionality with expand/collapse controls. It's primarily used within smart snippet components to manage the display of long answers.

## Key Features

- **Automatic Height Detection**: Measures content height and determines whether to show collapse controls
- **Smooth Transitions**: Provides smooth animations when expanding/collapsing content
- **Gradient Fade**: Applies a gradient fade effect on collapsed content to indicate more content is available
- **Configurable Heights**: Allows customization of maximum and collapsed heights via properties
- **Accessibility**: Includes proper ARIA attributes and keyboard support

## Usage

This component is typically used internally by other smart snippet components, but can be used standalone when collapsible content behavior is needed:

```html
<atomic-smart-snippet-collapse-wrapper
  maximum-height="300"
  collapsed-height="150">
  <div>
    Your long content goes here...
  </div>
</atomic-smart-snippet-collapse-wrapper>
```

## How It Works

1. **Without Height Limits**: If no `maximum-height` is set, content displays fully without collapse controls
2. **Content Shorter Than Maximum**: If content height is less than `maximum-height`, it displays fully without controls
3. **Content Exceeds Maximum**: If content exceeds `maximum-height`:
   - Initially displays at `collapsed-height` with a gradient fade
   - Shows a "Show more" button to expand to full height
   - After expansion, shows a "Show less" button to collapse back

## CSS Customization

The component supports CSS variable customization:

```css
atomic-smart-snippet-collapse-wrapper {
  /* Control where the gradient fade starts (default is calculated) */
  --atomic-smart-snippet-gradient-start: 80px;
}
```

## Parts

The component exposes shadow parts for styling:

- `smart-snippet-collapse-wrapper`: The main content container
- `show-more-button`: The button shown when content is collapsed
- `show-less-button`: The button shown when content is expanded

## Related Components

- `atomic-smart-snippet`: Uses this component to manage answer display
- `atomic-smart-snippet-answer`: Contains the actual answer content that may be wrapped

</AtomicDocTemplate>
