import { Meta } from '@storybook/addon-docs/blocks';
import * as AtomicRecsResultTemplateStories from './atomic-recs-result-template.new.stories';
import { AtomicDocTemplate } from '@/storybook-utils/documentation/atomic-doc-template';


<Meta of={AtomicRecsResultTemplateStories} />

<AtomicDocTemplate
  stories={AtomicRecsResultTemplateStories}
  defaultStory="Default"
  githubPath="recommendations/atomic-recs-result-template/atomic-recs-result-template.ts"
  tagName="atomic-recs-result-template"
  className="AtomicRecsResultTemplate"
>

This component defines the UI display of your recommendation results. 
A `template` element must be the child of an `atomic-recs-result-template`. Furthermore, an `atomic-recs-list` or `atomic-ipx-recs-list` must be the parent of each `atomic-recs-result-template`.

**Note:** Any `<script>` tags that are defined inside a `<template>` element will not be executed when the results are being rendered.

Example using the `atomic-recs-list`:
```html
<atomic-recs-list>
  <atomic-recs-result-template>
    <template>
      <atomic-result-section-visual>
        <atomic-result-image field="ytthumbnailurl" fallback="https://picsum.photos/seed/picsum/350"></atomic-result-image>
      </atomic-result-section-visual>
      
      <atomic-result-section-badges>
        <atomic-field-condition must-match-sourcetype="YouTube">
          <atomic-result-badge
            label="YouTube"
            class="youtube-badge"
          ></atomic-result-badge>
        </atomic-field-condition>
      </atomic-result-section-badges>

      <atomic-result-section-title>
        <atomic-result-link></atomic-result-link>
      </atomic-result-section-title>

      <atomic-result-section-excerpt>
        <atomic-result-text field="excerpt"></atomic-result-text>
      </atomic-result-section-excerpt>

      <atomic-result-section-bottom-metadata>
        <atomic-result-fields-list>
          <atomic-field-condition class="field" if-defined="source">
            <span class="field-label">
              <atomic-text value="source"></atomic-text>:
            </span>
            <atomic-result-text field="source"></atomic-result-text>
          </atomic-field-condition>
          
          <atomic-field-condition class="field" if-defined="author">
            <span class="field-label">
              <atomic-text value="author"></atomic-text>:
            </span>
            <atomic-result-text field="author"></atomic-result-text>
          </atomic-field-condition>
        </atomic-result-fields-list>
      </atomic-result-section-bottom-metadata>
    </template>
  </atomic-recs-result-template>
</atomic-recs-list>
```

## Link Slot

You can use the `link` slot to customize how the entire result item behaves as a link. This is useful when you want the result to open in a new tab or have custom link attributes:

```html
<atomic-recs-result-template>
  <template slot="link">
    <atomic-result-link>
      <a slot="attributes" target="_blank"></a>
    </atomic-result-link>
  </template>
  <template>
    <atomic-result-section-title>
      <atomic-result-text field="title"></atomic-result-text>
    </atomic-result-section-title>
  </template>
</atomic-recs-result-template>
```
</AtomicDocTemplate>
