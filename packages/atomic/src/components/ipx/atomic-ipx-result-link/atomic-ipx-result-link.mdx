import { Meta } from '@storybook/addon-docs/blocks';
import * as AtomicIpxResultLinkStories from './atomic-ipx-result-link.new.stories';
import { AtomicDocTemplate } from '../../../../storybook-utils/documentation/atomic-doc-template';

<Meta of={AtomicIpxResultLinkStories} name="Docs" />

<AtomicDocTemplate
  stories={AtomicIpxResultLinkStories}
  githubPath="ipx/atomic-ipx-result-link/atomic-ipx-result-link.ts"
  tagName="atomic-ipx-result-link"
  className="AtomicIpxResultLink"
>

This component is typically used within an `atomic-result-template` or `atomic-recs-result-template` in an IPX context:

```html
<atomic-result-list>
  <atomic-result-template>
    <template>
      <atomic-result-section-title>
        <atomic-ipx-result-link></atomic-ipx-result-link>
      </atomic-result-section-title>
    </template>
  </atomic-result-template>
</atomic-result-list>
```

```html
<atomic-recs-interface>
  <atomic-recs-list>
    <atomic-recs-result-template>
      <template>
        <atomic-result-section-title>
          <atomic-ipx-result-link></atomic-ipx-result-link>
        </atomic-result-section-title>
      </template>
    </atomic-recs-result-template>
  </atomic-recs-list>
</atomic-recs-interface>
```

## Custom Link Text

You can provide custom content within the link by using the default slot:

```html
<atomic-ipx-result-link>
  <atomic-result-text field="title"></atomic-result-text>
  - Click here
</atomic-ipx-result-link>
```

## Custom href Template

Use the `href-template` attribute to customize the link URL using result properties:

```html
<atomic-ipx-result-link href-template="${clickUri}?source=ipx"></atomic-ipx-result-link>
```

## Custom Attributes

Use the `attributes` slot to add custom attributes to the link element:

```html
<atomic-ipx-result-link>
  <a slot="attributes" target="_blank" rel="noopener"></a>
</atomic-ipx-result-link>
```

## IPX Actions History

The component automatically tracks page views in the IPX actions history when a result has a `permanentid` field, enabling better analytics and recommendations.

</AtomicDocTemplate>
