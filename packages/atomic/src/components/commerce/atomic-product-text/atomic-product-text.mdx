import {Canvas, ArgTypes, Meta, Title, Description, Subtitle} from '@storybook/blocks';
import * as AtomicProductTextStories from './atomic-product-text.new.stories';

<Meta of={AtomicProductTextStories} />

<Title />
<Subtitle>
  <Description />
</Subtitle>

<Canvas
  additionalActions={[
    {
      title: 'Open in GitHub',
      onClick: () => {
        window.open(
          'https://github.com/coveo/ui-kit/blob/master/packages/atomic/src/components/commerce/product-template-components/atomic-product-text/atomic-product-text.ts',
          '_blank'
        );
      },
    },
  ]}
  of={AtomicProductTextStories.Default}
/>

## Usage

The `atomic-product-text` component renders the value of a string product field. This component is used within product templates to display various text fields from the product data.

This component is typically used within `atomic-product-template` components inside the product list:

```html
<atomic-commerce-interface>
  ...
  <atomic-commerce-product-list>
    <atomic-product-template>
      <template>
        <atomic-product-text field="name"></atomic-product-text>
        <atomic-product-text field="excerpt"></atomic-product-text>
        <atomic-product-text field="brand" default="no-brand"></atomic-product-text>
      </template>
    </atomic-product-template>
  </atomic-commerce-product-list>
  ...
</atomic-commerce-interface>
```

### Basic Usage

To display a specific product field:

```html
<atomic-product-text field="excerpt"></atomic-product-text>
```

### With Default Value

When a field might not have a value, you can provide a fallback:

```html
<atomic-product-text field="brand" default="no-brand-available"></atomic-product-text>
```

### With Highlighting

By default, the component will highlight search terms in supported fields. You can disable this behavior:

```html
<atomic-product-text field="excerpt" should-highlight="false"></atomic-product-text>
```

### Supported Fields

The component looks for fields in this order:
1. First in the Product object properties
2. Then in the `product.additionalFields` object

### Highlighting

The `should-highlight` property (enabled by default) will highlight search terms in the text. This feature works best with:
- `excerpt` field
- `ec_name` field

## Reference

<ArgTypes />
