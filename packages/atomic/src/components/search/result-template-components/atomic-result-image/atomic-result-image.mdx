import { Meta } from '@storybook/addon-docs/blocks';
import * as AtomicResultImageStories from './atomic-result-image.new.stories';
import { AtomicDocTemplate } from '@/storybook-utils/documentation/atomic-doc-template';


<Meta of={AtomicResultImageStories} />

<AtomicDocTemplate
  stories={AtomicResultImageStories}
  githubPath="search/result-template-components/atomic-result-image/atomic-result-image.ts"
  tagName="atomic-result-image"
  className="AtomicResultImage"
>

The `atomic-result-image` component renders an image from a result field.

This component is used within `atomic-result-template` components inside the result list:

```html
<atomic-search-interface>
  ...
  <atomic-result-list>
    <atomic-result-template>
      <template>
        <atomic-result-section-visual>
          <atomic-result-image field="ec_thumbnail"></atomic-result-image>
        </atomic-result-section-visual>
      </template>
    </atomic-result-template>
  </atomic-result-list>
  ...
</atomic-search-interface>
```

### Basic Usage

To display an image from a specific result field:

```html
<atomic-result-image field="thumbnail"></atomic-result-image>
```

### With Fallback Image

When the specified field is not available or the image fails to load, you can provide a fallback:

```html
<atomic-result-image 
  field="thumbnail" 
  fallback="https://example.com/placeholder.png">
</atomic-result-image>
```

### With Custom Alt Text Field

For improved accessibility, you can specify a result field to use as the alt text for the image:

```html
<atomic-result-image 
  field="thumbnail" 
  image-alt-field="alt_description">
</atomic-result-image>
```

If `image-alt-field` is not specified or the field has no valid value, the component falls back to a default alt text based on the result title.

### Properties

- **field** (required): The result field containing the image URL. Looks in the Result object first, then in the raw object.
- **fallback**: An optional fallback image URL to use when the specified field is unavailable or the image fails to load.
- **image-alt-field**: The result field containing the alt text for the image. Improves accessibility by allowing custom alt text from indexed data.

</AtomicDocTemplate>
