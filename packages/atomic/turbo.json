{
  "extends": ["//"],
  "tasks": {
    "build": {
      "dependsOn": [
        "build:storybook",
        "@coveo/atomic-angular-builder#gen:lit",
        "@coveo/atomic-react#gen:lit"
      ],
      "outputs": []
    },
    "build:storybook": {
      "dependsOn": ["build:cem"],
      "outputs": ["./dist-storybook/**"]
    },
    "chromatic": {
      "dependsOn": ["build:storybook"],
      "outputs": [],
      "env": [
        "CHROMATIC_PROJECT_TOKEN",
        "CHROMATIC_SHA",
        "CHROMATIC_BRANCH",
        "CHROMATIC_SLUG"
      ]
    },
    "build:cem": {
      "dependsOn": ["build:cdn"],
      "outputs": ["./custom-elements.json"]
    },
    "build:stencil-lit": {
      "dependsOn": ["^build", "build:locales"],
      "outputs": [
        "dist/**",
        "!dist/atomic/assets/**",
        "!dist/atomic/themes/**",
        "!dist/atomic/lang/**",
        "docs/**",
        "!docs/assets.json",
        "src/components.d.ts",
        ".stencil/**",
        "projects/atomic-angular/src/lib/stencil-generated/**/*"
      ]
    },
    "build:copy-assets": {
      "dependsOn": ["build:stencil-lit", "build:locales"],
      "outputs": ["dist/atomic/themes/**", "dist/atomic/lang/**"]
    },
    "build:list-assets": {
      "dependsOn": ["build:copy-assets"],
      "outputs": ["dist/atomic/assets/**", "docs/assets.json"]
    },
    "build:cdn": {
      "dependsOn": ["build:list-assets"],
      "outputs": ["cdn/**"]
    },

    "build:locales": {
      "dependsOn": ["^build"],
      "outputs": ["src/generated/**", "src/assets/lang/**"]
    },

    "test:stencil": {
      "dependsOn": ["build:locales"],
      "outputs": ["coverage/**"]
    },
    "test:lit": {
      "dependsOn": ["^build", "build"],
      "outputs": ["coverage/**"]
    },
    "test:storybook": {
      "dependsOn": ["^build", "build"],
      "outputs": []
    },
    "dev:storybook": {
      "dependsOn": ["build"],
      "cache": false,
      "persistent": true
    },
    "dev:vite": {
      "dependsOn": ["build"],
      "cache": false,
      "persistent": true
    },
    "dev": {
      "dependsOn": ["build"],
      "with": ["dev:storybook", "dev:vite", "@coveo/headless#dev"],
      "cache": false,
      "persistent": true
    },
    "web:dev": {
      "dependsOn": ["build"],
      "cache": false,
      "persistent": true
    },
    "web:cdn": {
      "dependsOn": ["build:cdn"],
      "cache": false,
      "persistent": true
    }
  }
}
