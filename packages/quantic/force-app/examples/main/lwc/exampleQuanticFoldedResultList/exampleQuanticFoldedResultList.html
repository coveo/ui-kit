<template>
  <c-example-layout
    title={pageTitle}
    description={pageDescription}
    show-preview={isConfigured}
    expected-events={expectedEvents}
  >
    <div slot="configuration">
      <c-configurator options={options} ontryitnow={handleTryItNow}>
        <c-action-perform-search slot="actions" disabled={notConfigured} engine-id={engineId}></c-action-perform-search>
      </c-configurator>
    </div>

    <c-example-use-case
      slot="preview"
      use-case={config.useCase}
      engine-id={engineId}
    >
      <div onregisterresulttemplates={handleResultTemplateRegistration}>
        <div>
          <c-quantic-tab
          label="Thread"
          expression="@source==iNaturalistTaxons"
          engine-id={engineId}
          is-active
        ></c-quantic-tab>
        </div>
        <c-quantic-folded-result-list
          engine-id={engineId}
          fields-to-include={config.fieldsToInclude}
          collection-field={config.collectionField}
          parent-field={config.parentField}
          child-field={config.childField}
          number-of-folded-results={config.numberOfFoldedResults}
        >
        </c-quantic-folded-result-list>
        <div class="slds-grid slds-m-top_x-small">
          <c-quantic-results-per-page choices-displayed="1" initial-choice="1" engine-id={engineId}></c-quantic-results-per-page>
        </div>
      </div>
    </c-example-use-case>
  </c-example-layout>
</template>
