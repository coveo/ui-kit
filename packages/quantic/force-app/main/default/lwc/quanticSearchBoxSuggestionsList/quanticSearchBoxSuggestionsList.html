<template>
    <div id="listbox-id" class={listboxCssClass} role="listbox">
        <ul class="slds-listbox slds-listbox_vertical" role="presentation">
            <template for:each={allOptions} for:item="option">
                <template lwc:if={option.isClearRecentQueryButton}>
                    <li data-cy="clear-recent-queries" key={option.key} role="button" class="slds-listbox__item"
                        onclick={clearRecentQueries} onmouseover={preventDefault} onmousedown={preventDefault}>
                        <div class={clearRecentQueriesOptionCSSClass} role="option">
                            <span class="slds-media__body slds-text-title_bold">
                                {labels.recentQueries}
                            </span>
                            <span class="slds-text-color_weak"> {labels.clear} </span>
                        </div>
                    </li>
                </template>
                <template lwc:else>
                    <li data-cy="suggestions-option" key={option.rawValue} role="presentation"
                        class="slds-listbox__item" data-rawvalue={option.rawValue} onclick={option.clickHandler}
                        onmouseover={handleSuggestionHover} onmousedown={preventDefault}>
                        <div class={option.containerCSSClass} role="option" aria-selected={option.isSelected}>
                            <span class="slds-media__figure slds-listbox__option-icon suggestion-option__icon">
                                <lightning-icon icon-name={option.icon} size="xx-small" alternative-text="Connected"
                                    title="Connected"></lightning-icon>
                            </span>
                            <span class="slds-media__body slds-grid">
                                <lightning-formatted-rich-text class="slds-truncate"
                                    value={option.value}></lightning-formatted-rich-text>
                            </span>
                        </div>
                    </li>
                </template>
            </template>
        </ul>
    </div>
</template>