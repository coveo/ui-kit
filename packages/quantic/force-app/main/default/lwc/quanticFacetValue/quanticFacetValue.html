<template>
  <template if:false={displayNew}> 
    <div role={divRole} aria-checked={isChecked} onclick={onSelect} class="facet__value-container facet__value-option slds-grid slds-grid_vertical-align-center slds-size_1-of-1 slds-p-around_x-small" tabindex="0" onkeydown={onKeyDown}>
      <template if:false={displayAsLink}>
        <lightning-input 
          tabindex="-1"
          type="checkbox"
          class="facet__value-checkbox"
          variant="label-hidden"
          label="Facet value option"
          name="facet value checkbox"
          onchange={onSelect}
          checked={isChecked}
        ></lightning-input>
      </template>
      <template if:true={isChecked}>
        <span class="slds-truncate slds-var-m-right_xx-small slds-var-m-top_xxx-small nowrap facet__value-text facet__value_selected">{formattedFacetValue}</span>
        <span class="nowrap slds-var-m-top_xxx-small facet__number-of-results facet__value_selected">({numberOfResults})</span>
      </template>
      <template if:false={isChecked}>
              <template if:true={isStandardFacet}>
                <span class="slds-truncate slds-var-m-right_xx-small slds-var-m-top_xxx-small nowrap facet__value-text facet__value_idle">
                  <lightning-formatted-rich-text value={item.highlightedResult}></lightning-formatted-rich-text>
                </span>
              </template>
              <template if:false={isStandardFacet}>
                <span class="slds-truncate slds-var-m-right_xx-small slds-var-m-top_xxx-small nowrap facet__value-text facet__value_idle" >{formattedFacetValue}</span>
              </template>
              <span class="nowrap slds-var-m-top_xxx-small facet__number-of-results">({numberOfResults})</span>
      </template>
    </div>
  </template>

  <template if:true={displayNew}> 
    <div aria-label={ariaLabelVoiceOver} onclick={onSelect} role={divRole} aria-checked={isChecked} class="facet__value-container facet__value-option slds-grid slds-grid_vertical-align-center slds-size_1-of-1 slds-p-around_x-small" tabindex="0" onkeydown={onKeyDown}>
      <template if:false={displayAsLink}>
        <div class="facet__value_new-checkbox">
          <template if:true={isChecked}><div class="facet__value_checkbox-checked"></div></template>
        </div>
      </template>

      <template if:true={isChecked}>
        <span class="slds-truncate slds-var-m-right_xx-small slds-var-m-top_xxx-small nowrap facet__value-text facet__value_selected" aria-label={formattedFacetValue}>{formattedFacetValue}</span>
        <span class="nowrap slds-var-m-top_xxx-small facet__number-of-results facet__value_selected" aria-label={numberOfResults}>({numberOfResults})</span>
      </template>
      <template if:false={isChecked}>
        <template if:true={isStandardFacet}>
          <span class="slds-truncate slds-var-m-right_xx-small slds-var-m-top_xxx-small nowrap facet__value-text facet__value_idle">
            <lightning-formatted-rich-text value={item.highlightedResult}></lightning-formatted-rich-text>
          </span>
        </template>
        <template if:false={isStandardFacet}>
          <span class="slds-truncate slds-var-m-right_xx-small slds-var-m-top_xxx-small nowrap facet__value-text facet__value_idle" aria-label={formattedFacetValue}>{formattedFacetValue}</span>
        </template>
        <span class="nowrap slds-var-m-top_xxx-small facet__number-of-results"  aria-label={numberOfResults}>({numberOfResults})</span>
      </template>
    </div>
  </template>

</template>
