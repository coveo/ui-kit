<template>
  <template lwc:if={shouldDisplayGeneratedAnswer}>
    <div data-cy="generated-answer__card" class="slds-box">
      <div
        class="slds-var-m-bottom_medium slds-grid generated-answer__card-header"
      >
        <span
          class="generated-answer__badge slds-var-p-around_x-small slds-text-title_bold"
          >{labels.generatedAnswerForYou}</span
        >
        <c-quantic-feedback
          state={feedbackState}
          onlike={handleLike}
          ondislike={handleDislike}
          like-icon-name="utility:like"
          like-label={labels.thisAnswerWasHelpful}
          dislike-icon-name="utility:dislike"
          dislike-label={labels.thisAnswerWasNotHelpful}
          size="x-small"
          question=""
          hide-explain-why-button
          hide-labels
          data-cy="generated-answer__feedback"
        ></c-quantic-feedback>
      </div>
      <div data-cy="generated-answer__content" class={generatedContentClass}>
        {answer}
      </div>
      <div class={generatedAnswerFooterCssClass}>
        <template lwc:if={hasCitations}>
          <div class="slds-var-m-top_small">
            <c-quantic-source-citations
              data-cy="generated-answer__citations"
              citations={citations}
              citation-click-handler={handleCitationClick}
            ></c-quantic-source-citations>
          </div>
        </template>
        <template lwc:if={shouldDisplayActions}>
          <div class="slds-var-m-top_small">
            <c-quantic-generated-answer-rephrase-buttons
              data-cy="generated-answer__rephrase-buttons"
              value={responseFormat}
              hide-labels={rephraseLabelsShouldBeHidden}
            ></c-quantic-generated-answer-rephrase-buttons>
          </div>
        </template>
      </div>
    </div>
  </template>
</template>
