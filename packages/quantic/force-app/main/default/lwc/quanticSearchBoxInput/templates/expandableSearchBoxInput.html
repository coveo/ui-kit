<template>
  <div class={searchBoxContainerClass} role="none">
    <template if:true={withoutSubmitButton}>
      <lightning-icon
        class="slds-icon slds-input__icon slds-input__icon_left searchbox__search-icon"
        icon-name="utility:search"
        size="x-small"
      ></lightning-icon>
    </template>
    <textarea
      id="combobox-with-button-id"
      class={searchBoxInputClass}
      placeholder={placeholder}
      type="search"
      onkeydown={onKeydown}
      onkeyup={onKeyup}
      onfocus={onFocus}
      onblur={onBlur}
      oninput={onTextAreaInput}
      aria-autocomplete="list"
      autocomplete="off"
      role="textbox"
      style="white-space: nowrap"
      value={value}
    >
    </textarea>

    <template if:false={isQueryEmpty}>
      <div
        class="slds-grid slds-align_absolute-center slds-var-m-right_xxx-small searchbox__clear-button-container"
      >
        <lightning-button-icon
          onclick={clearInput}
          icon-name="utility:close"
          class="slds-grid searchbox__clear-button"
          variant="bare"
          size="medium"
          name={labels.clear}
          title={labels.clear}
          aria-label={labels.clear}
          alternative-text={labels.clear}
        ></lightning-button-icon>
      </div>
    </template>

    <template if:false={withoutSubmitButton}>
      <button
        class="searchbox__submit-button slds-button slds-button_neutral"
        title={labels.search}
        onclick={onSubmit}
      >
        <lightning-icon
          class="slds-current-color"
          size="x-small"
          icon-name="utility:search"
          alternative-text={labels.search}
          title={labels.search}
        ></lightning-icon>
        <span class="slds-assistive-text">{labels.search}</span>
      </button>
    </template>
  </div>
</template>
